{% extends base_path %}

{% block breadcrumbs %}
    <a href="/services/providers">manage providers</a>
{% endblock %}

{% block pagecontent %}
<br />

<h1>Service Provider</h1>

<table width="100%">
  <tr>
    <td valign="top">
      <table>
          {% for value in provider_values %}
          <tr>
            <td><strong>{{ value.0 }}:</strong></td>
            <td> {{ value.1 }} </td>
          </tr>
          {% endfor %}
      </table>

      <hr />
      <p><strong>Contact Numbers</strong>
      <a title="Add a new contact number"
         href="/services/provider/contact/capturephone?containerkey={{ provider.key }}">
          <img src="/images/add.png"/>
        </a>
      </p>
      <table class="listing" cellspacing="0">
          <thead>
            <td>Type</td>
            <td>Number</td>
            <td colspan="2">&nbsp;</td>
          </thead>
          {% for number in phonenumbers %}
          <tr>
              <td>{{ number.numberType }}</td>
              <td>{{ number.number }}</td>
              <td class="action">
                <a title="Edit this contact number"
                   href="/services/provider/contact/editphone?phonekey={{ number.key }}">
                <img src="/images/edit.png"/></a></td>
                </a></td>
              <td class="action">
                <a title="Delete this contact number"
                   href="/services/provider/contact/deletephone?phonekey={{ number.key }}"
                   onclick="return confirm('Are you sure?');">
                <img src="/images/delete.png"/></a></td>
                </a></td>
          </tr>
          {% endfor %}
      </table>

    </td>
    <td valign="top">
      <p><strong>Email Addresses</strong>
      <a title="Add a new email address"
         href="/services/provider/email/captureemail?containerkey={{ provider.key }}">
          <img src="/images/add.png"/></a>
      </p>
      <table class="listing" cellspacing="0">
          <thead>
            <td>Type</td>
            <td>Address</td>
            <td colspan="2">&nbsp;</td>
          </thead>
          {% for email in emails %}
          <tr>
              <td>{{ email.emailType }}</td>
              <td>{{ email.email }}</td>
              <td class="action">
                <a title="Edit this email address"
                   href="/services/provider/email/editemail?emailkey={{ email.key }}">
              <img src="/images/edit.png"/></a></td>
              </a></td>
              <td class="action">
                <a title="Delete this email address"
                   href="/services/provider/email/deleteemail?emailkey={{ email.key }}"
                   onclick="return confirm('Are you sure?');">
                <img src="/images/delete.png"/></a></td>
              </a></td>
          </tr>
          {% endfor %}
      </table>

      <hr />
      <p><strong>Addresses</strong>
      <a title="Add a new address"
         href="/services/provider/address/captureaddress?containerkey={{ provider.key }}">
          <img src="/images/add.png"/>
      </a>
      </p>

      <table class="listing" cellspacing="0">
          <thead>
            <td>Type</td>
            <td>Address</td>
            <td colspan="2">&nbsp;</td>
          </thead>
          {% for address in addresses %}
          <tr>
              <td>{{ address.addressType }}</td>
              <td>{{ address.listing_name }}</td>
              <td class="action">
                <a title="Edit this address"
                   href="/services/provider/address/editaddress?addresskey={{ address.key }}">
              <img src="/images/edit.png"/></a></td>
              </a></td>
              <td class="action">
                <a title="Delete this address"
                   href="/services/provider/address/deleteaddress?addresskey={{ address.key }}"
                   onclick="return confirm('Are you sure?');">
                <img src="/images/delete.png"/></a></td>
              </a></td>
          </tr>
          {% endfor %}
      </table>
    </td>
  </tr>
</table>

    <h2>Services</h2>
    <p><strong>Services</strong>
    <a title="Add a new service"
       href="/services/provider/captureservice?providerkey={{ provider.key }}">
      <img src="/images/add.png"/></a></td>
    </a>
    </p>

    <table class="listing" cellspacing="0">
        <thead>
          <td>Name</td>
          <td>Description</td>
          {% if is_admin_user %}
              <td colspan="3">&nbsp</td>
          {% else %}
              <td colspan="3">&nbsp</td>
          {% endif %}
        </thead>
        {% for service in services %}
        <tr>
          <td><a href="/services/provider/viewservice?servicekey={{ service.key }}&providerkey={{ provider.key }}">{{ service.name }}</a></td>
          <td> {{ service.description }} </td>
          <td class="action">
            <a title="Edit this service"
               href="/services/provider/editservice?servicekey={{ service.key }}&providerkey={{ provider.key }}">
              <img src="/images/edit.png"/></a></td>
          </a></td>
          {% if is_admin_user %}
            <td class="action">
              <a title="Delete this service"
                 href="/services/provider/deleteservice?servicekey={{ service.key }}&providerkey={{ provider.key }}"
                     onclick="return confirm('Are you sure?');">
                <img src="/images/delete.png"/></a></td>
            </a></td>
          {% endif %}
        </tr>
        {% endfor %}
    </table>
{% endblock pagecontent %}
